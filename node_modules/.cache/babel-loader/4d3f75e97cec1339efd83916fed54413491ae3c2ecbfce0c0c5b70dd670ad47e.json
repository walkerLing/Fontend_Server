{"ast":null,"code":"import axios from 'axios';\nimport BlockSearch from '../components/BlockSearch';\nimport BlockStorage from '../components/BlockStorage';\nexport default {\n  name: 'BlockPage',\n  components: {\n    BlockSearch,\n    BlockStorage\n  },\n  data() {\n    return {\n      input: ''\n    };\n  },\n  methods: {\n    serachData() {\n      console.log(\"正在查询数据\");\n      this.$axios.get(`http://fruit.mingbyte.com:55001/gateway/fruit/queryChaincode?uuid=${this.input}`, {\n        timeout: 1000 * 60 * 2\n      }).then(res => {\n        // console.log(\"获取产地实景\",res.data.data.plantDevelopment.images)\n\n        console.log(\"请求成功了\", res.data.data);\n        this.$bus.$emit('getStorage', res.data.data);\n        this.$bus.$emit('getImglist', res.data.data.plantDevelopment.images);\n      }, err => {\n        console.log(\"请求失败了\", err.message);\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"AAgDA;AACA;AACA;AACA;EACAA;EACAC;IAAAC;IAAAC;EAAA;EACAC;IACA;MACAC;IACA;EACA;EACAC;IACAC;MACAC;MACA;QAAAC;MAAA,QACAC;QACA;;QAEAF;QACA;QACA;MACA,GACAG;QACAH;MACA,EACA;IACA;EACA;AACA","names":["name","components","BlockSearch","BlockStorage","data","input","methods","serachData","console","timeout","res","err"],"sourceRoot":"src/pages","sources":["BlockPage.vue"],"sourcesContent":["<template>\r\n<div id=\"block_main\">\r\n    <div id=\"mainBodyOfBlock\" >\r\n        <!-- 查询头部分 -->\r\n        <div class=\"contentDisplayOfHome\">\r\n            <div class=\"headOfBlockDisplay\">\r\n                <span style=\"flex:9;font-size:20px;font-weight:bold;color:white;\">\r\n                    <i class=\"el-icon-link\"></i>\r\n                    区块链产品溯源\r\n                </span>\r\n                <span style=\"flex:2;font-size:12px;font-weight:bold;color:#4E5C72;justify-content:end;display:flex;color:white\">\r\n                    以下数据基于区块链技术支持\r\n                </span>\r\n            </div>\r\n                <!-- 信息查询部分 -->\r\n                <el-card class=\"box-card\">\r\n                        <span style=\"flex:9;font-size:15px;font-weight:bold;color:white;\">\r\n                            <i class=\"el-icon-search\"></i>\r\n                               信息查询区<br/>\r\n                        </span>\r\n\r\n                        <el-input v-model=\"input\"  placeholder=\"请输入溯源码进行查询\" style=\"width:90%;margin-top:20px;\"></el-input>\r\n                        <el-button size=\"small\" @click=\"serachData\" style='margin-left:15px'>查询</el-button>\r\n                        \r\n                    <el-card class=\"box-card\">\r\n                        <div class=\"detailBlock\">\r\n                            <BlockSearch></BlockSearch>\r\n                        </div>\r\n                    </el-card>\r\n                </el-card>\r\n\r\n\r\n                 <!-- 信息修改部分 -->\r\n                 <el-card class=\"box-card\">\r\n                    <span style=\"flex:9;font-size:15px;font-weight:bold;color:white;\">\r\n                        <i class=\"el-icon-document-add\"></i>\r\n                           信息存储区<br/>\r\n                    </span>\r\n                    <div class=\"detailBlock\">\r\n                        <BlockStorage></BlockStorage>\r\n                    </div>\r\n            </el-card>\r\n        </div>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport BlockSearch from '../components/BlockSearch';\r\nimport BlockStorage from '../components/BlockStorage';\r\nexport default {\r\n    name: 'BlockPage',\r\n    components:{BlockSearch,BlockStorage},\r\n    data() {\r\n        return {\r\n            input: '',\r\n        };\r\n    },\r\n    methods:{\r\n        serachData(){\r\n            console.log(\"正在查询数据\");\r\n            this.$axios.get(`http://fruit.mingbyte.com:55001/gateway/fruit/queryChaincode?uuid=${this.input}`,{timeout: 1000 * 60 * 2}).then(\r\n            res=>{\r\n                // console.log(\"获取产地实景\",res.data.data.plantDevelopment.images)\r\n\r\n                console.log(\"请求成功了\",res.data.data)\r\n                this.$bus.$emit('getStorage',res.data.data)\r\n                this.$bus.$emit('getImglist',res.data.data.plantDevelopment.images)\r\n            },\r\n            err =>{\r\n                console.log(\"请求失败了\",err.message)\r\n            },\r\n            )\r\n       }\r\n    },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.box-card{\r\n    background-color: transparent;\r\n    width: 100%;\r\n    margin-top: 2%;\r\n    margin-bottom:2%;\r\n}\r\n.mainBodyOfBlock{\r\n    display: flex;\r\n    width: 100%;\r\n    align-content: center;\r\n    height: 100%;\r\n    flex-direction: column;\r\n    align-items: stretch;\r\n    justify-content: center;\r\n}\r\n.contentDisplayOfHome{\r\n    flex: 3;\r\n    height:100%;\r\n    width: 90%;\r\n    margin-left: 5%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n}\r\n.headOfBlockDisplay{\r\n    flex: 2;\r\n    width: 100%;\r\n    height: 100%;\r\n    display: flex;\r\n    align-items: end;\r\n    margin-top: 5%;\r\n}\r\n.detailBlock{\r\n    flex: 5;\r\n    width: 100%;\r\n    height: 100%;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    gap: 20px;\r\n    margin-top: 5%;\r\n}\r\n\r\n\r\n\r\n        #block_main{\r\n            overflow-y: scroll;\r\n            overflow-x: hidden;\r\n            height: 550px;\r\n            width: 1200px;\r\n        }\r\n        /*滚动条整体部分*/\r\n        #block_main::-webkit-scrollbar{\r\n            width: 20px;\r\n            background-color: #F5F5F5;\r\n        }\r\n        /*滚动条轨道*/\r\n        #block_main::-webkit-scrollbar-track{\r\n            -webkit-box-shadow:inset 0 0 6px rgba(0,0,0,0.3);\r\n            border-radius: 5px;\r\n            background: rgba(196, 248, 196, 0.5);\r\n        }\r\n        #block_main::-webkit-scrollbar-thumb{\r\n            background-color: #fff;\r\n            border-radius: 5px;\r\n            background-image: -webkit-linear-gradient(top,\r\n            #85250d 0%,\r\n            #c26d49 30%,\r\n            #d5beb7 60%,\r\n            #e4f5fc 100%\r\n            );\r\n    }\r\n\r\n  \r\n</style>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}