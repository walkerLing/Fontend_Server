{"ast":null,"code":"// eslint-disable-next-line no-unused-vars\nimport axios, { Axios as request } from \"axios\";\nimport WeatherConditions from '../components/WeatherConditions';\nexport default {\n  name: \"Weather\",\n  components: {\n    WeatherConditions\n  },\n  data() {\n    return {\n      weatherInforObj: {},\n      aa: '一'\n    };\n  },\n  created() {\n    this.lodaInforOfWeather();\n  },\n  mounted() {\n    setTimeout(() => {\n      this.initMonthWorkOrder();\n    }, 500);\n  },\n  methods: {\n    initMonthWorkOrder() {\n      let myChart = this.$echarts.init(this.$refs.monthWorkOrder);\n      let options = {\n        //这里面动态渲染数据的方式能简化的但是我事情有点多就不简化了\n        title: {\n          text: '未来天气预测'\n        },\n        tooltip: {\n          trigger: 'axis'\n        },\n        legend: {\n          // data: ['最高温', 'Union Ads', 'Video Ads', 'Direct', 'Search Engine']\n        },\n        grid: {\n          left: '3%',\n          right: '4%',\n          bottom: '3%',\n          containLabel: true\n        },\n        toolbox: {\n          feature: {\n            saveAsImage: {}\n          }\n        },\n        xAxis: {\n          type: 'category',\n          boundaryGap: false,\n          data: [this.weatherInforObj.forecast[0].date.slice(2), this.weatherInforObj.forecast[1].date.slice(2), this.weatherInforObj.forecast[2].date.slice(2), this.weatherInforObj.forecast[3].date.slice(2), this.weatherInforObj.forecast[4].date.slice(2)]\n        },\n        yAxis: {\n          type: 'value'\n        },\n        series: [{\n          name: '风力',\n          type: 'line',\n          // stack: 'Total',\n          data: [this.weatherInforObj.forecast[0].fengli.substr(9, 1), this.weatherInforObj.forecast[1].fengli.substr(9, 1), this.weatherInforObj.forecast[2].fengli.substr(9, 1), this.weatherInforObj.forecast[3].fengli.substr(9, 1), this.weatherInforObj.forecast[4].fengli.substr(9, 1)]\n        }, {\n          name: '最高温',\n          type: 'line',\n          // stack: 'Total',\n          data: [this.weatherInforObj.forecast[0].high.substr(3, 2), this.weatherInforObj.forecast[1].high.substr(3, 2), this.weatherInforObj.forecast[2].high.substr(3, 2), this.weatherInforObj.forecast[3].high.substr(3, 2), this.weatherInforObj.forecast[4].high.substr(3, 2)]\n        }, {\n          name: '最低温',\n          type: 'line',\n          // stack: 'Total',\n          data: [this.weatherInforObj.forecast[0].low.substr(3, 2), this.weatherInforObj.forecast[1].low.substr(3, 2), this.weatherInforObj.forecast[2].low.substr(3, 2), this.weatherInforObj.forecast[3].low.substr(3, 2), this.weatherInforObj.forecast[4].low.substr(3, 2)]\n        }]\n      };\n      myChart.setOption(options);\n    },\n    lodaInforOfWeather() {\n      this.request.get(\"http://mobile.weather.com.cn/data/forecast/101010100.html?_=1461845405\").then(res => {\n        this.weatherInforObj = res.data;\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"AAoBA;AACA;AACA;AACA;EACAA;EACAC;IAAAC;EAAA;EACAC;IACA;MACAC;MACAC;IACA;EACA;EACAC;IACA;EAEA;EACAC;IACAC;MACA;IACA;EACA;EACAC;IACAC;MACA;MACA;QACA;QACAC;UACAC;QACA;QACAC;UACAC;QACA;QACAC;UACA;QAAA,CACA;QACAC;UACAC;UACAC;UACAC;UACAC;QACA;QACAC;UACAC;YACAC;UACA;QACA;QACAC;UACAC;UACAC;UACAvB,OACA,gDACA,gDACA,gDACA,gDACA;QAEA;QACAwB;UACAF;QACA;QACAG,SACA;UACA5B;UACAyB;UACA;UACAtB,OACA,sDACA,sDACA,sDACA,sDACA;QACA,GACA;UACAH;UACAyB;UACA;UACAtB,OACA,oDACA,oDACA,oDACA,oDACA;QAEA,GACA;UACAH;UACAyB;UACA;UACAtB,0DACA,mDACA,mDACA,mDACA;QACA;MAEA;MACA0B;IACA;IACAC;MACA;QACA;MACA;IACA;EACA;AAEA","names":["name","components","WeatherConditions","data","weatherInforObj","aa","created","mounted","setTimeout","methods","initMonthWorkOrder","title","text","tooltip","trigger","legend","grid","left","right","bottom","containLabel","toolbox","feature","saveAsImage","xAxis","type","boundaryGap","yAxis","series","myChart","lodaInforOfWeather"],"sourceRoot":"src/pages","sources":["Weather.vue"],"sourcesContent":["<template>\r\n    <div class=\"maiBodyOfWeather\">\r\n\r\n<!--        天气实况-->\r\n        <div class=\"weatherConditions\">\r\n            <WeatherConditions/>\r\n        </div>\r\n<!--        小贴士-->\r\n        <div style=\"padding: 0 15px;flex: 1;width: 600px;height: 100%;background-color: #F5F7F9;display: flex;align-items: center;border-radius: 15px;color: #464646;font-weight: bold\">\r\n            今日小贴士:<span style=\"margin-left: 15px\">{{weatherInforObj.ganmao}}</span>\r\n        </div>\r\n<!--        天气预报折线图-->\r\n        <div class=\"lineChart\">\r\n            <div ref=\"monthWorkOrder\" class=\"echarts-box forcastLineChart\" ></div>\r\n        </div>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    // eslint-disable-next-line no-unused-vars\r\n    import axios, {Axios as request} from \"axios\";\r\n    import  WeatherConditions from '../components/WeatherConditions'\r\n    export default {\r\n        name: \"Weather\",\r\n        components:{WeatherConditions},\r\n        data(){\r\n            return{\r\n                weatherInforObj:{},\r\n                aa:'一'\r\n            }\r\n        },\r\n        created() {\r\n            this.lodaInforOfWeather()\r\n\r\n        },\r\n        mounted() {\r\n           setTimeout(()=>{\r\n               this.initMonthWorkOrder()\r\n           },500)\r\n        },\r\n        methods:{\r\n            initMonthWorkOrder() {\r\n                let myChart = this.$echarts.init(this.$refs.monthWorkOrder)\r\n                let options = {\r\n                    //这里面动态渲染数据的方式能简化的但是我事情有点多就不简化了\r\n                    title: {\r\n                        text: '未来天气预测'\r\n                    },\r\n                    tooltip: {\r\n                        trigger: 'axis'\r\n                    },\r\n                    legend: {\r\n                        // data: ['最高温', 'Union Ads', 'Video Ads', 'Direct', 'Search Engine']\r\n                    },\r\n                    grid: {\r\n                        left: '3%',\r\n                        right: '4%',\r\n                        bottom: '3%',\r\n                        containLabel: true\r\n                    },\r\n                    toolbox: {\r\n                        feature: {\r\n                            saveAsImage: {}\r\n                        }\r\n                    },\r\n                    xAxis: {\r\n                        type: 'category',\r\n                        boundaryGap: false,\r\n                        data: [\r\n                            this.weatherInforObj.forecast[0].date.slice(2),\r\n                            this.weatherInforObj.forecast[1].date.slice(2),\r\n                            this.weatherInforObj.forecast[2].date.slice(2),\r\n                            this.weatherInforObj.forecast[3].date.slice(2),\r\n                            this.weatherInforObj.forecast[4].date.slice(2),\r\n                        ]\r\n                    },\r\n                    yAxis: {\r\n                        type: 'value'\r\n                    },\r\n                    series: [\r\n                        {\r\n                            name: '风力',\r\n                            type: 'line',\r\n                            // stack: 'Total',\r\n                            data: [\r\n                                this.weatherInforObj.forecast[0].fengli.substr(9,1),\r\n                                this.weatherInforObj.forecast[1].fengli.substr(9,1),\r\n                                this.weatherInforObj.forecast[2].fengli.substr(9,1),\r\n                                this.weatherInforObj.forecast[3].fengli.substr(9,1),\r\n                                this.weatherInforObj.forecast[4].fengli.substr(9,1)]\r\n                        },\r\n                        {\r\n                            name: '最高温',\r\n                            type: 'line',\r\n                            // stack: 'Total',\r\n                            data: [\r\n                                this.weatherInforObj.forecast[0].high.substr(3,2),\r\n                                this.weatherInforObj.forecast[1].high.substr(3,2),\r\n                                this.weatherInforObj.forecast[2].high.substr(3,2),\r\n                                this.weatherInforObj.forecast[3].high.substr(3,2),\r\n                                this.weatherInforObj.forecast[4].high.substr(3,2),\r\n                            ]\r\n                        },\r\n                        {\r\n                            name: '最低温',\r\n                            type: 'line',\r\n                            // stack: 'Total',\r\n                            data: [this.weatherInforObj.forecast[0].low.substr(3,2),\r\n                                this.weatherInforObj.forecast[1].low.substr(3,2),\r\n                                this.weatherInforObj.forecast[2].low.substr(3,2),\r\n                                this.weatherInforObj.forecast[3].low.substr(3,2),\r\n                                this.weatherInforObj.forecast[4].low.substr(3,2),]\r\n                        }\r\n                    ]\r\n                }\r\n                myChart.setOption(options)\r\n            },\r\n            lodaInforOfWeather(){\r\n                this.request.get(\"http://mobile.weather.com.cn/data/forecast/101010100.html?_=1461845405\").then(res=>{\r\n                    this.weatherInforObj = res.data\r\n                })\r\n            }\r\n        }\r\n\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n.maiBodyOfWeather{\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    height: 650px;\r\n    background-image: radial-gradient(circle farthest-side at 10% 90%, #FFE8EA, #EDF3FF 70%, #EDF2FB);\r\n}\r\n    .weatherConditions{\r\n        flex: 6;\r\n        height: 100%;\r\n        width: 100%;\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: center;\r\n        align-items: center;\r\n\r\n    }\r\n    .lineChart{\r\n        flex: 9;\r\n        height: 100%;\r\n        width: 100%;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n\r\n    }\r\n    .forcastLineChart{\r\n        height: 90%;\r\n        width: 600px;\r\n        background-color: #F5F7F9;\r\n        border-radius: 15px;\r\n        padding: 10px;\r\n    }\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}